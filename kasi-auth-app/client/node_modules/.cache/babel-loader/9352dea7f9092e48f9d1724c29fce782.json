{"ast":null,"code":"import { REGISTER } from './../actionsTypes';\nimport axios from \"axios\";\nimport jwt from 'jwt-decode';\nimport * as jwt_decode from 'jwt-decode';\nexport const register = (firstName, password) => {\n  return async dispatch => {\n    try {\n      const {\n        data\n      } = await axios.post(\"http://localhost:3001/register\", {\n        firstName,\n        password\n      });\n      const token = data.token;\n      console.log(token);\n      const user = jwt_decode(token);\n      console.log(user);\n      localStorage.setItem('token', token);\n      dispatch({\n        type: REGISTER,\n        payload: { ...data\n        },\n        token,\n        user\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n};","map":{"version":3,"sources":["/home/tcg/Workspace/authentication-projects/kasi-auth-app/client/src/redux/registeryForm/actions.js"],"names":["REGISTER","axios","jwt","jwt_decode","register","firstName","password","dispatch","data","post","token","console","log","user","localStorage","setItem","type","payload","e"],"mappings":"AAAA,SAAQA,QAAR,QAAwB,mBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,YAAhB;AACA,OAAO,KAAKC,UAAZ,MAA4B,YAA5B;AAEA,OAAO,MAAMC,QAAQ,GAAC,CAACC,SAAD,EAAWC,QAAX,KAAuB;AACzC,SAAO,MAAMC,QAAN,IAAkB;AACrB,QAAI;AAEF,YAAM;AAAEC,QAAAA;AAAF,UAAW,MAAMP,KAAK,CAACQ,IAAN,CAAW,gCAAX,EAA6C;AAClEJ,QAAAA,SADkE;AAEhEC,QAAAA;AAFgE,OAA7C,CAAvB;AAIE,YAAMI,KAAK,GAAGF,IAAI,CAACE,KAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,YAAMG,IAAI,GAAGV,UAAU,CAACO,KAAD,CAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,KAA9B;AAEFH,MAAAA,QAAQ,CAAC;AACPS,QAAAA,IAAI,EAAEhB,QADC;AAEPiB,QAAAA,OAAO,EAAC,EAAC,GAAGT;AAAJ,SAFD;AAEWE,QAAAA,KAFX;AAEiBG,QAAAA;AAFjB,OAAD,CAAR;AAID,KAhBD,CAgBE,OAAOK,CAAP,EAAU;AACVP,MAAAA,OAAO,CAACC,GAAR,CAAYM,CAAZ;AACD;AACF,GApBH;AAqBH,CAtBM","sourcesContent":["import {REGISTER } from './../actionsTypes'\nimport axios from \"axios\"\nimport jwt from 'jwt-decode'\nimport * as jwt_decode from 'jwt-decode';\n\nexport const register=(firstName,password) =>{\n    return async dispatch => {\n        try {\n    \n          const { data } = await axios.post(\"http://localhost:3001/register\", {\n            firstName,\n              password\n            });\n            const token = data.token;\n            console.log(token)\n            const user = jwt_decode(token); \n            console.log(user)\n            localStorage.setItem('token', token);\n   \n          dispatch({\n            type: REGISTER,\n            payload:{...data},token,user\n          });\n        } catch (e) {\n          console.log(e);\n        }\n      };\n}\n"]},"metadata":{},"sourceType":"module"}